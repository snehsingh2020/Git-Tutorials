this is a utility function of version 3